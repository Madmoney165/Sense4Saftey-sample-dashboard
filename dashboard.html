<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sense4safety | Patient Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2c5e92;
            --primary-light: #4a7fb8;
            --secondary: #6c9dce;
            --accent: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gray: #7f8c8d;
            --card-bg: #ffffff;
            --border-radius: 16px;
            --box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            --transition: all 0.3s ease;
            --sense-color: #5cdb95;
            --four-color: #4dc9e6;
            --safety-color: #5cdb95;
        }

        body {
            background: linear-gradient(135deg, #f0f7ff 0%, #e6f0ff 100%);
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Welcome Page Styles */
        #welcome-page {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 2rem;
            background: linear-gradient(120deg, #1a3a5f 0%, #2c5e92 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .welcome-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            z-index: 2;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 2.2rem;
            font-weight: 700;
            text-transform: lowercase;
        }

        .logo .sense {
            color: var(--sense-color);
        }

        .logo .four {
            color: var(--four-color);
        }

        .logo .safety {
            color: var(--safety-color);
        }

        .welcome-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex: 1;
            text-align: center;
            padding: 2rem;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .welcome-subtitle {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 2.5rem;
            opacity: 0.9;
            max-width: 700px;
        }

        .patient-card {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            width: 100%;
            max-width: 600px;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: var(--box-shadow);
        }

        .patient-info {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .patient-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-light), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 600;
            color: white;
        }

        .patient-details {
            text-align: left;
        }

        .patient-name {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: white;
        }

        .patient-meta {
            display: flex;
            gap: 1rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .welcome-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            width: 100%;
            margin-top: 1.5rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.8;
        }

        .enter-btn {
            background: var(--sense-color);
            color: var(--dark);
            border: none;
            padding: 1.2rem 3rem;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 2.5rem;
            box-shadow: 0 5px 20px rgba(92, 219, 149, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .enter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(92, 219, 149, 0.4);
            background: #4dc481;
        }

        .medical-icon {
            position: absolute;
            opacity: 0.03;
            font-size: 25rem;
            z-index: 1;
        }

        .icon-1 { top: 10%; left: 5%; }
        .icon-2 { top: 30%; right: 10%; }
        .icon-3 { bottom: 20%; left: 15%; }

        /* Dashboard Styles */
        #dashboard {
            display: none;
            flex-direction: column;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 1.2rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .patient-info-dash {
            text-align: right;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .patient-name-dash {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .patient-id {
            opacity: 0.9;
            font-size: 0.95rem;
            display: flex;
            gap: 15px;
        }

        .patient-id span {
            background: rgba(255,255,255,0.15);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
        }

        .comms-icon {
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .comms-icon:hover {
            transform: scale(1.1);
        }

        .notification-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            flex: 1;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .dashboard-title {
            font-size: 1.8rem;
            color: var(--dark);
            font-weight: 700;
        }

        .date-range {
            color: var(--gray);
            font-size: 0.95rem;
            background: var(--light);
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 500;
        }

        .status-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.8rem;
            margin-bottom: 2.5rem;
        }

        .status-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.8rem 1.5rem;
            box-shadow: var(--box-shadow);
            border-left: 4px solid var(--primary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .status-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
            opacity: 0.2;
        }

        .status-card.moderate {
            border-left-color: var(--warning);
        }

        .status-card.moderate::before {
            background: var(--warning);
        }

        .status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .status-card h3 {
            color: var(--gray);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }

        .status-note {
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--gray);
            background: rgba(127, 140, 141, 0.1);
            padding: 4px 10px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 0.5rem;
        }

        .moderate-indicator {
            color: var(--warning);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tabs {
            display: flex;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            margin-bottom: 2.5rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            overflow: hidden;
            flex-wrap: wrap;
        }

        .tab {
            flex: 1;
            padding: 1.2rem;
            text-align: center;
            cursor: pointer;
            background: var(--card-bg);
            border: none;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--gray);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 140px;
        }

        .tab.active {
            background: var(--primary);
            color: white;
        }

        .tab:hover:not(.active) {
            background: #f1f3f4;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tab-content.active {
            display: block;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2.2rem;
            margin-bottom: 2.5rem;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .chart-container:hover {
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 1.8rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chart-title i {
            color: var(--primary);
            background: rgba(74, 144, 226, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-top: 1.5rem;
        }

        .metric-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .metric-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.8rem;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .metric-card:hover {
            transform: translateY(-3px);
        }

        .metric-card h4 {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .metric-note {
            color: var(--gray);
            font-size: 0.9rem;
            font-style: italic;
        }

        .no-data {
            text-align: center;
            color: var(--gray);
            padding: 3.5rem;
            background: rgba(127, 140, 141, 0.05);
            border-radius: var(--border-radius);
        }

        .no-data i {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            opacity: 0.3;
        }

        .alert-item {
            background: #fffaf0;
            border: 1px solid #ffeeba;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            transition: var(--transition);
        }

        .alert-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            background: var(--warning);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .alert-icon.heart {
            background: var(--danger);
        }

        .alert-content h4 {
            color: #856404;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .alert-content p {
            color: #333;
            font-size: 0.95rem;
            margin-bottom: 0.8rem;
            line-height: 1.5;
        }

        .recommendation {
            background: rgba(243, 156, 18, 0.1);
            padding: 0.8rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--dark);
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .recommendation i {
            color: var(--warning);
            margin-top: 3px;
        }

        .explanation-panel {
            background: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 1.8rem;
            margin-top: 2.5rem;
            border-left: 4px solid var(--primary);
        }

        .explanation-panel h3 {
            color: var(--dark);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .explanation-panel h3 i {
            color: var(--primary);
        }

        .term-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .term-item {
            padding: 1.2rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.03);
            position: relative;
        }

        .term-item h4 {
            color: var(--primary);
            margin-bottom: 0.6rem;
            font-size: 1.05rem;
        }

        .term-item p {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(0,0,0,0.05);
            margin-top: 2rem;
        }

        .quarter-explanation {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .quarter-item {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            width: 220px;
            text-align: center;
            box-shadow: var(--box-shadow);
        }

        .quarter-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .quarter-range {
            font-size: 1rem;
            color: var(--dark);
            font-weight: 600;
            margin-bottom: 0.8rem;
        }

        .quarter-desc {
            font-size: 0.9rem;
            color: var(--gray);
        }

        /* Communication Panel Styles */
        .comms-panel {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow);
        }

        .comms-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .comms-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark);
        }

        .comms-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
        }

        .comms-tab {
            padding: 0.8rem 1.5rem;
            background: var(--light);
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .comms-tab.active {
            background: var(--primary);
            color: white;
        }

        .message-list {
            max-height: 400px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .message-item {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
        }

        .message-sender {
            font-weight: 700;
            color: var(--dark);
        }

        .message-time {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .message-content {
            color: var(--dark);
            line-height: 1.6;
        }

        .message-actions {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border-radius: 30px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reply-btn {
            background: rgba(74, 144, 226, 0.1);
            color: var(--primary);
        }

        .delete-btn {
            background: rgba(231, 76, 60, 0.1);
            color: var(--danger);
        }

        .compose-area {
            margin-top: 2rem;
            border-top: 1px solid rgba(0,0,0,0.1);
            padding-top: 1.5rem;
        }

        .compose-header {
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-family: inherit;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }

        .send-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.9rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .send-btn:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
        }

        @media (max-width: 992px) {
            .container {
                padding: 1.5rem;
            }

            .header {
                padding: 1rem 1.5rem;
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .patient-info-dash {
                text-align: center;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .welcome-title {
                font-size: 2.5rem;
            }

            .welcome-subtitle {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 768px) {
            .status-cards {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .chart-wrapper {
                height: 300px;
            }

            .chart-container {
                padding: 1.5rem;
            }

            .patient-info {
                flex-direction: column;
                text-align: center;
            }

            .patient-details {
                text-align: center;
            }

            .quarter-explanation {
                flex-direction: column;
                align-items: center;
            }

            .logo {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Page -->
    <div id="welcome-page">
        <div class="welcome-header">
            <div class="logo">
                <span class="sense">sense</span>
                <span class="four">4</span>
                <span class="safety">safety</span>
            </div>
        </div>

        <div class="welcome-content">
            <h1 class="welcome-title">Welcome to Your Safety Dashboard</h1>
            <p class="welcome-subtitle">Your personalized safety monitoring platform designed to help you and your care team track important metrics</p>

            <div class="patient-card">
                <div class="patient-info">
                    <div class="patient-avatar">SM</div>
                    <div class="patient-details">
                        <div class="patient-name">Sarah Martinez</div>
                        <div class="patient-meta">
                            <span>ID: P7439</span>
                            <span>Room: C-204</span>
                            <span>Age: 47</span>
                        </div>
                    </div>
                </div>

                <div class="welcome-stats">
                    <div class="stat-card">
                        <div class="stat-value">5,247</div>
                        <div class="stat-label">Avg Daily Steps</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">7.8</div>
                        <div class="stat-label">Sleep Quality Score</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">74</div>
                        <div class="stat-label">Heart Rate (bpm)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">18%</div>
                        <div class="stat-label">Activity Improvement</div>
                    </div>
                </div>
            </div>

            <button class="enter-btn" id="enter-dashboard">
                <i class="fas fa-arrow-right"></i>
                View My Dashboard
            </button>
        </div>

        <i class="fas fa-heartbeat medical-icon icon-1"></i>
        <i class="fas fa-stethoscope medical-icon icon-2"></i>
        <i class="fas fa-hospital medical-icon icon-3"></i>
    </div>

    <!-- Dashboard -->
    <div id="dashboard">
        <div class="header">
            <div class="logo">
                <span class="sense">sense</span>
                <span class="four">4</span>
                <span class="safety">safety</span>
            </div>
            <div class="patient-info-dash">
                <div class="patient-name-dash">Sarah Martinez</div>
                <div class="patient-id">
                    <span>ID: P7439</span>
                    <span>Room: C-204</span>
                    <span>Age: 47</span>
                </div>
            </div>
            <div class="comms-icon" id="comms-icon">
                <i class="fas fa-comments"></i>
                <span class="notification-badge">3</span>
            </div>
        </div>

        <div class="container">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Patient Safety Dashboard</h1>
                <div class="date-range">Monitoring Period: January 2024 - June 2025</div>
            </div>

            <!-- Status Overview Cards -->
            <div class="status-cards">
                <div class="status-card moderate">
                    <h3><i class="fas fa-exclamation-triangle"></i> Fall Risk</h3>
                    <div class="status-value">
                        <span class="moderate-indicator">MODERATE</span>
                    </div>
                    <div class="status-note">Score: 6.2/10 | Requires monitoring</div>
                </div>
                <div class="status-card">
                    <h3><i class="fas fa-heart"></i> Heart Rate</h3>
                    <div class="status-value">74</div>
                    <div class="status-note">bpm (Normal Range)</div>
                </div>
                <div class="status-card">
                    <h3><i class="fas fa-lungs"></i> Respiratory Rate</h3>
                    <div class="status-value">18</div>
                    <div class="status-note">breaths/min (Normal)</div>
                </div>
                <div class="status-card">
                    <h3><i class="fas fa-walking"></i> Daily Steps</h3>
                    <div class="status-value">5,247</div>
                    <div class="status-note">avg steps/day (Active)</div>
                </div>
                <div class="status-card">
                    <h3><i class="fas fa-tachometer-alt"></i> Walking Speed</h3>
                    <div class="status-value">72</div>
                    <div class="status-note">steps/min average</div>
                </div>
                <div class="status-card">
                    <h3><i class="fas fa-bed"></i> Sleep Quality</h3>
                    <div class="status-value">7.8</div>
                    <div class="status-note">/10 (8.1 hrs avg/night)</div>
                </div>
            </div>

            <!-- Quarterly Explanation -->
            <div class="explanation-panel">
                <h3><i class="fas fa-info-circle"></i> Quarterly Reporting Periods</h3>
                <p style="margin-bottom: 1.5rem; color: var(--gray);">Our reports use quarterly periods to track your safety progress. Here's what each quarter represents:</p>

                <div class="quarter-explanation">
                    <div class="quarter-item">
                        <div class="quarter-title">Q1 (First Quarter)</div>
                        <div class="quarter-range">January - March</div>
                        <div class="quarter-desc">Baseline assessment period where we establish your starting metrics</div>
                    </div>
                    <div class="quarter-item">
                        <div class="quarter-title">Q2 (Second Quarter)</div>
                        <div class="quarter-range">April - June</div>
                        <div class="quarter-desc">Progress tracking as you implement safety recommendations</div>
                    </div>
                    <div class="quarter-item">
                        <div class="quarter-title">Q3 (Third Quarter)</div>
                        <div class="quarter-range">July - September</div>
                        <div class="quarter-desc">Mid-year assessment to measure long-term progress</div>
                    </div>
                    <div class="quarter-item">
                        <div class="quarter-title">Q4 (Fourth Quarter)</div>
                        <div class="quarter-range">October - December</div>
                        <div class="quarter-desc">Year-end review to evaluate annual progress and set new goals</div>
                    </div>
                </div>
            </div>

            <!-- Navigation Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('overview')">
                    <i class="fas fa-chart-line"></i> Overview
                </button>
                <button class="tab" onclick="showTab('gait')">
                    <i class="fas fa-walking"></i> Gait Analysis
                </button>
                <button class="tab" onclick="showTab('walking-speed')">
                    <i class="fas fa-tachometer-alt"></i> Walking Speed
                </button>
                <button class="tab" onclick="showTab('health-alerts')">
                    <i class="fas fa-bell"></i> Safety Alerts
                </button>
                <button class="tab" onclick="showTab('tug')">
                    <i class="fas fa-stopwatch"></i> TUG Test
                </button>
                <button class="tab" onclick="showTab('sleep')">
                    <i class="fas fa-bed"></i> Sleep & Rest
                </button>
                <button class="tab" onclick="showTab('communication')">
                    <i class="fas fa-comments"></i> Communication
                </button>
            </div>

            <!-- Tab Contents -->
            <div id="overview" class="tab-content active">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-chart-area"></i>
                        <span>Monthly Safety Trends</span>
                    </div>
                    <div class="metric-summary">
                        <div class="metric-card">
                            <h4>Steps Today</h4>
                            <div class="metric-value">4,920</div>
                            <div class="metric-note">Slightly below average</div>
                        </div>
                        <div class="metric-card">
                            <h4>Active Minutes</h4>
                            <div class="metric-value">187</div>
                            <div class="metric-note">Daily average</div>
                        </div>
                        <div class="metric-card">
                            <h4>Sleep Hours</h4>
                            <div class="metric-value">8.1</div>
                            <div class="metric-note">Last night: 7.8 hrs</div>
                        </div>
                        <div class="metric-card">
                            <h4>Safety Incidents</h4>
                            <div class="metric-value">12</div>
                            <div class="metric-note">Total in monitoring period</div>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="overviewChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="gait" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-walking"></i>
                        <span>Quarterly Gait Analysis</span>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="gaitChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="walking-speed" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Weekly Walking Speed Patterns</span>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="walkingSpeedChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="health-alerts" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-bell"></i>
                        <span>Active Safety Alerts</span>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon">!</div>
                        <div class="alert-content">
                            <h4>Moderate Fall Risk Detected</h4>
                            <p>Risk Score: 6.2/10 | Trend: Increasing over past 6 months</p>
                            <div class="recommendation">
                                <i class="fas fa-lightbulb"></i>
                                <span>Recommendation: Schedule physical therapy evaluation and implement fall prevention measures</span>
                            </div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon heart">❤️</div>
                        <div class="alert-content">
                            <h4>Heart Rate Variability Pattern</h4>
                            <p>Irregularity detected during 02:00-04:00 hours over the past week</p>
                            <div class="recommendation">
                                <i class="fas fa-lightbulb"></i>
                                <span>Recommendation: Conduct sleep study evaluation and monitor cardiac patterns</span>
                            </div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon"><i class="fas fa-chart-line"></i></div>
                        <div class="alert-content">
                            <h4>Decreased Daily Activity</h4>
                            <p>18% decline over past two weeks | Current: 4,290 steps/day (vs baseline 5,247)</p>
                            <div class="recommendation">
                                <i class="fas fa-lightbulb"></i>
                                <span>Recommendation: Encourage physical activity and investigate potential causes</span>
                            </div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon"><i class="fas fa-moon"></i></div>
                        <div class="alert-content">
                            <h4>Sleep Pattern Disruption</h4>
                            <p>Disruptions between 01:00-03:00 AM for three consecutive nights | Sleep quality decreased to 6.4/10</p>
                            <div class="recommendation">
                                <i class="fas fa-lightbulb"></i>
                                <span>Recommendation: Review sleep environment and consider sleep hygiene strategies</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tug" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-stopwatch"></i>
                        <span>Timed Up and Go (TUG) Test Results</span>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="tugChart"></canvas>
                    </div>
                </div>
            </div>

            <div id="sleep" class="tab-content">
                <div class="chart-container">
                    <div class="chart-title">
                        <i class="fas fa-bed"></i>
                        <span>Sleep Quality & Restlessness</span>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="sleepChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Communication Tab -->
            <div id="communication" class="tab-content">
                <div class="comms-panel">
                    <div class="comms-header">
                        <h2 class="comms-title">Patient Communication</h2>
                        <button class="send-btn" id="new-message-btn">
                            <i class="fas fa-plus"></i> New Message
                        </button>
                    </div>

                    <div class="comms-tabs">
                        <div class="comms-tab active" data-tab="messages">Messages</div>
                        <div class="comms-tab" data-tab="email">Email</div>
                        <div class="comms-tab" data-tab="sms">SMS</div>
                    </div>

                    <div class="message-list">
                        <div class="message-item">
                            <div class="message-header">
                                <div class="message-sender">Dr. James Wilson</div>
                                <div class="message-time">Today, 10:30 AM</div>
                            </div>
                            <div class="message-content">
                                Hi Sarah, I've reviewed your recent gait analysis results. Let's schedule a follow-up appointment to discuss your physical therapy adjustments. The Q2 data shows improvement but we need to address the slight regression in Q3.
                            </div>
                            <div class="message-actions">
                                <button class="action-btn reply-btn">
                                    <i class="fas fa-reply"></i> Reply
                                </button>
                                <button class="action-btn delete-btn">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>

                        <div class="message-item">
                            <div class="message-header">
                                <div class="message-sender">Physical Therapy Team</div>
                                <div class="message-time">Yesterday, 2:15 PM</div>
                            </div>
                            <div class="message-content">
                                Reminder: Your physical therapy session is scheduled for tomorrow at 10 AM. Please bring your exercise log. We'll focus on improving your walking speed which showed a slight decrease in Q1 2025.
                            </div>
                            <div class="message-actions">
                                <button class="action-btn reply-btn">
                                    <i class="fas fa-reply"></i> Reply
                                </button>
                                <button class="action-btn delete-btn">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>

                        <div class="message-item">
                            <div class="message-header">
                                <div class="message-sender">sense4safety System</div>
                                <div class="message-time">Jun 15, 2025</div>
                            </div>
                            <div class="message-content">
                                Quarterly Safety Report: Your Q2 2025 report is now available. Highlights include 12% improvement in walking speed and 8% increase in daily steps compared to Q1. Fall risk remains moderate. View full report in your dashboard.
                            </div>
                            <div class="message-actions">
                                <button class="action-btn reply-btn">
                                    <i class="fas fa-reply"></i> Reply
                                </button>
                                <button class="action-btn delete-btn">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="compose-area">
                        <div class="compose-header">Send New Message</div>
                        <div class="form-group">
                            <label for="recipient">Recipient</label>
                            <select id="recipient">
                                <option>Dr. James Wilson (Primary Physician)</option>
                                <option>Physical Therapy Team</option>
                                <option>Nursing Staff</option>
                                <option>Family Notification</option>
                                <option>sense4safety Support</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message-type">Message Type</label>
                            <select id="message-type">
                                <option>Secure Message (Preferred)</option>
                                <option>Email</option>
                                <option>SMS Text Message</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message-content">Message</label>
                            <textarea id="message-content" placeholder="Type your message here..."></textarea>
                        </div>
                        <button class="send-btn" id="send-message-btn">
                            <i class="fas fa-paper-plane"></i> Send Message
                        </button>
                    </div>
                </div>
            </div>

            <!-- Medical Term Explanations -->
            <div class="explanation-panel">
                <h3><i class="fas fa-info-circle"></i> Medical Term Explanations</h3>
                <p style="margin-bottom: 1rem; color: var(--gray);">Key terms for better understanding your safety metrics</p>
                <div class="term-list">
                    <div class="term-item">
                        <h4>TUG Test (Timed Up and Go)</h4>
                        <p>A mobility test that measures the time it takes to stand up from a chair, walk 3 meters, turn around, walk back, and sit down. Used to assess fall risk.</p>
                    </div>
                    <div class="term-item">
                        <h4>Fall Risk Score</h4>
                        <p>A calculated score (0-10) based on multiple factors including gait, balance, medication use, and history. Higher scores indicate greater fall risk.</p>
                    </div>
                    <div class="term-item">
                        <h4>Gait Analysis</h4>
                        <p>The systematic study of human walking patterns, including metrics like stride length, walking speed, and cadence to assess mobility and fall risk.</p>
                    </div>
                    <div class="term-item">
                        <h4>Restlessness Events</h4>
                        <p>Significant body movements during sleep detected by sensors. Higher counts may indicate poor sleep quality or underlying health issues.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>sense4safety Dashboard | Data Updated: June 20, 2025 | Monitoring Period: Jan 2024 - Jun 2025</p>
            <p>Data Quality: 98.7% uptime | Sensor Calibration: Monthly | Baseline Period: First 3 months of 2024</p>
        </div>
    </div>

    <script>
        // Welcome page interaction
        document.getElementById('enter-dashboard').addEventListener('click', function() {
            document.getElementById('welcome-page').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';
        });

        // Dataset for Sarah Martinez
        const sarahData = {
            overview: {
                labels: ['Jan 2024', 'Feb 2024', 'Mar 2024', 'Apr 2024', 'May 2024', 'Jun 2024',
                         'Jul 2024', 'Aug 2024', 'Sep 2024', 'Oct 2024', 'Nov 2024', 'Dec 2024',
                         'Jan 2025', 'Feb 2025', 'Mar 2025', 'Apr 2025', 'May 2025', 'Jun 2025'],
                heartRate: [72, 71, 73, 74, 76, 75, 77, 76, 74, 73, 75, 74, 76, 75, 74, 73, 74, 74],
                steps: [5200, 5350, 5180, 5420, 5680, 5790, 5650, 5480, 5320, 5150, 4980, 4850,
                        4920, 5100, 5280, 5350, 5240, 5160],
                sleepQuality: [7.8, 8.1, 7.9, 8.2, 8.0, 7.7, 7.5, 7.8, 8.0, 8.2, 7.9, 7.6,
                               7.8, 8.0, 8.1, 7.9, 8.0, 7.8]
            },
            gait: {
                labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025', 'Q2 2025'],
                walkingSpeed: [68, 71, 69, 66, 64, 67],
                strideLength: [122, 125, 120, 118, 115, 119],
                cadence: [110, 115, 108, 105, 102, 108],
                tugTime: [13.8, 13.2, 13.9, 14.5, 15.1, 14.7]
            },
            walkingSpeed: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7', 'Week 8'],
                morning: [72, 70, 73, 69, 68, 71, 69, 67],
                afternoon: [78, 76, 79, 74, 72, 75, 73, 71],
                evening: [65, 63, 67, 62, 60, 64, 62, 59]
            },
            tug: {
                labels: ['Jan 2024', 'Mar 2024', 'May 2024', 'Jul 2024', 'Sep 2024', 'Nov 2024',
                         'Jan 2025', 'Mar 2025', 'May 2025'],
                times: [13.2, 13.8, 13.5, 14.1, 14.8, 15.2, 15.6, 15.1, 14.9],
                normalRange: [12, 14]
            },
            sleep: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',
                         'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                sleepQuality: [7.8, 8.1, 7.9, 8.2, 8.0, 7.7, 7.5, 7.8, 8.0, 8.2, 7.9, 7.6,
                               7.8, 8.0, 8.1, 7.9, 8.0, 7.8],
                restlessness: [12, 8, 10, 6, 9, 15, 18, 14, 11, 7, 9, 13, 11, 8, 6, 9, 10, 12],
                deepSleep: [3.2, 3.8, 3.5, 4.1, 3.9, 3.4, 3.1, 3.6, 3.8, 4.0, 3.7, 3.3,
                            3.5, 3.9, 4.2, 3.8, 3.9, 3.7]
            }
        };

        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');

            // Initialize charts for the active tab
            setTimeout(() => initializeCharts(tabName), 100);
        }

        function initializeCharts(tabName) {
            switch(tabName) {
                case 'overview':
                    createOverviewChart();
                    break;
                case 'gait':
                    createGaitChart();
                    break;
                case 'walking-speed':
                    createWalkingSpeedChart();
                    break;
                case 'tug':
                    createTugChart();
                    break;
                case 'sleep':
                    createSleepChart();
                    break;
            }
        }

        function createOverviewChart() {
            const ctx = document.getElementById('overviewChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: sarahData.overview.labels,
                    datasets: [
                        {
                            label: 'Heart Rate (bpm)',
                            data: sarahData.overview.heartRate,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.3,
                            yAxisID: 'y',
                            pointRadius: 3,
                            pointHoverRadius: 6
                        },
                        {
                            label: 'Daily Steps',
                            data: sarahData.overview.steps,
                            borderColor: '#4a90e2',
                            backgroundColor: 'rgba(74, 144, 226, 0.1)',
                            tension: 0.3,
                            yAxisID: 'y1',
                            pointRadius: 3,
                            pointHoverRadius: 6
                        },
                        {
                            label: 'Sleep Quality',
                            data: sarahData.overview.sleepQuality,
                            borderColor: '#9b59b6',
                            backgroundColor: 'rgba(155, 89, 182, 0.1)',
                            tension: 0.3,
                            yAxisID: 'y2',
                            pointRadius: 3,
                            pointHoverRadius: 6,
                            hidden: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Heart Rate (bpm)',
                                color: '#e74c3c'
                            },
                            grid: {
                                drawOnChartArea: false
                            },
                            min: 65,
                            max: 80
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Daily Steps',
                                color: '#4a90e2'
                            },
                            grid: {
                                drawOnChartArea: false
                            },
                            min: 4500,
                            max: 6000
                        },
                        y2: {
                            type: 'linear',
                            display: false,
                            position: 'right',
                            min: 7,
                            max: 8.5
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function createGaitChart() {
            const ctx = document.getElementById('gaitChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sarahData.gait.labels,
                    datasets: [
                        {
                            label: 'Walking Speed (steps/min)',
                            data: sarahData.gait.walkingSpeed,
                            backgroundColor: 'rgba(74, 144, 226, 0.8)',
                            borderColor: 'rgba(74, 144, 226, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Stride Length (cm)',
                            data: sarahData.gait.strideLength,
                            backgroundColor: 'rgba(46, 204, 113, 0.8)',
                            borderColor: 'rgba(46, 204, 113, 1)',
                            borderWidth: 1,
                            yAxisID: 'y1'
                        },
                        {
                            label: 'Cadence (steps/min)',
                            data: sarahData.gait.cadence,
                            backgroundColor: 'rgba(155, 89, 182, 0.8)',
                            borderColor: 'rgba(155, 89, 182, 1)',
                            borderWidth: 1,
                            yAxisID: 'y2',
                            type: 'line',
                            pointRadius: 4,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Walking Speed',
                                color: '#4a90e2'
                            },
                            min: 60,
                            max: 75
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Stride Length',
                                color: '#2ecc71'
                            },
                            grid: {
                                drawOnChartArea: false
                            },
                            min: 110,
                            max: 130
                        },
                        y2: {
                            type: 'linear',
                            display: false,
                            min: 100,
                            max: 120
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function createWalkingSpeedChart() {
            const ctx = document.getElementById('walkingSpeedChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: sarahData.walkingSpeed.labels,
                    datasets: [
                        {
                            label: 'Morning',
                            data: sarahData.walkingSpeed.morning,
                            borderColor: '#f39c12',
                            backgroundColor: 'rgba(243, 156, 18, 0.1)',
                            tension: 0.3,
                            pointRadius: 4,
                            fill: true
                        },
                        {
                            label: 'Afternoon',
                            data: sarahData.walkingSpeed.afternoon,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.3,
                            pointRadius: 4
                        },
                        {
                            label: 'Evening',
                            data: sarahData.walkingSpeed.evening,
                            borderColor: '#9b59b6',
                            backgroundColor: 'rgba(155, 89, 182, 0.1)',
                            tension: 0.3,
                            pointRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Walking Speed (steps/min)'
                            },
                            min: 55,
                            max: 85
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        function createTugChart() {
            const ctx = document.getElementById('tugChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: sarahData.tug.labels,
                    datasets: [{
                        label: 'TUG Time (seconds)',
                        data: sarahData.tug.times,
                        borderColor: '#4a90e2',
                        backgroundColor: 'rgba(74, 144, 226, 0.1)',
                        fill: true,
                        tension: 0.3,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Time (seconds)'
                            },
                            min: 12,
                            max: 16
                        }
                    },
                    plugins: {
                        annotation: {
                            annotations: {
                                normalRange: {
                                    type: 'box',
                                    yMin: sarahData.tug.normalRange[0],
                                    yMax: sarahData.tug.normalRange[1],
                                    backgroundColor: 'rgba(46, 204, 113, 0.1)',
                                    borderColor: 'rgba(46, 204, 113, 0.5)',
                                    borderWidth: 1
                                }
                            }
                        },
                        legend: {
                            position: 'top'
                        }
                    }
                }
            });
        }

        function createSleepChart() {
            const ctx = document.getElementById('sleepChart');
            if (!ctx) return;

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sarahData.sleep.labels,
                    datasets: [
                        {
                            label: 'Restlessness Events',
                            data: sarahData.sleep.restlessness,
                            backgroundColor: 'rgba(231, 76, 60, 0.7)',
                            borderColor: 'rgba(231, 76, 60, 1)',
                            borderWidth: 1,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Sleep Quality',
                            data: sarahData.sleep.sleepQuality,
                            backgroundColor: 'rgba(74, 144, 226, 0.7)',
                            borderColor: 'rgba(74, 144, 226, 1)',
                            borderWidth: 1,
                            type: 'line',
                            pointRadius: 4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Restlessness Events',
                                color: '#e74c3c'
                            },
                            min: 0,
                            max: 20
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Sleep Quality (0-10)',
                                color: '#4a90e2'
                            },
                            grid: {
                                drawOnChartArea: false
                            },
                            min: 7,
                            max: 8.5
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20
                            }
                        }
                    }
                }
            });
        }

        // Initialize default chart on dashboard entry
        document.getElementById('enter-dashboard').addEventListener('click', function() {
            setTimeout(() => {
                createOverviewChart();
            }, 300);
        });

        // Communication tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            const commsTabs = document.querySelectorAll('.comms-tab');
            commsTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    commsTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Send message button
            document.getElementById('send-message-btn').addEventListener('click', function() {
                const recipient = document.getElementById('recipient').value;
                const messageType = document.getElementById('message-type').value;
                const message = document.getElementById('message-content').value;

                if (message.trim() === '') {
                    alert('Please enter a message');
                    return;
                }

                // Show success message
                alert(`Message to ${recipient} sent successfully!`);

                // Clear the form
                document.getElementById('message-content').value = '';
            });

            // Communication icon click
            document.getElementById('comms-icon').addEventListener('click', function() {
                showTab('communication');
            });
        });
    </script>
</body>
</html>
